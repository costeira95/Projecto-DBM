{
    "definitions": {
        "produto": {
            "description": "Um produto",
            "type": "object",
            "required": ["nome", "modelo","preco","informacao","stock", "data","marca"],
            "properties": {
                "nome": {
                    "description": "Nome do produto",
                    "type": "string"
                },
                "modelo": {
                    "description": "Modelo do produto",
                    "type": "string"
                },
                "preco": {
                    "description": "preco do produto",
                    "type": "number"
                },
                "informacao": {
                    "description": "descrição do produto",
                    "type": "string"
                },
                "stock": {
                    "description": "stock do produto",
                    "type": "integer"
                },
                "data": {
                    "description": "data de producao",
                    "type": "string",
                    "format": "date"
                },
                "marca": {
                    "type": "object",
                    "required": ["nome"],
                    "properties": {
                        "nome": {
                            "description": "Nome da marca",
                            "type": "string"
                        }
                    }
                }
            }
        },
        "venda": {
            "description": "venda de um produto",
            "type": "object",
            "required": ["quantidade","data"],
            "properties": {
                "quantidade": {
                    "description": "quantidade de produtos vendidos",
                    "type": "integer",
                    "minimum" : 1
                },
                "data": {
                    "description": "data de compra",
                    "type": "string",
                    "format": "date"
                }
            }
        }
    },
    "allOf": [
        {
            "$ref": "#/definitions/venda"
        },
        {
            "type": "object",
            "required": ["produto"],
            "properties": {
                "produto": {
                    "$ref": "#/definitions/produto"
                }
            }
        }
    ]
}